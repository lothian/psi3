.TH detcas 1 " 8 May, 1998" "" ""
.  \"
.  \" Notice of Document Modification
.  \"
.  \"   man page created by David Sherrill, 8 May 1998
.  \"   streamlined by CDS, updated        20 Jul 1998
.  \"
.  \"
.SH NAME
detcas \- Determinant Configuration Interaction / Complete Active
          Space Self-Consistent-Field Program

.SH DESCRIPTION
.LP
The program
.B detcas
performs a complete-active-space self-consistent-field
(CASSCF) optimization of molecular orbitals via a two-step
procedure in conjunction with the determinant configuration
interaction program DETCI.  The program is in its initial
stages and currently uses a Newton-Raphson approach
to update the orbitals, employing a simple approximate
orbital Hessian.  The next version of the code will accelerate
convergence using Pulay's direct inversion of the iterative
subspace (DIIS) procedure.  The code has been written to allow
more general wavefunctions that do not necessarily feature a
full CI treatment of the active space.  In particular, any
restricted active space (RAS) CI wavefunction supported by DETCI
can be used, allowing MCSCF wavefunctions of the RASSCF type.
This would only require changes to the subroutine which 
calculates the approximate orbital Hessian.

.SH REFERENCES
.LP
Approximate Orbital Hessian:
.IP "1."
G. Chaban, M. W. Schmidt, and M. S. Gordon, Theor. Chim. Acta, 
xxx.
.LP
Restricted Active Space CI:
.IP "1."
Determinant Based Configuration Interaction Algorithms for
Complete and Restricted Configuration Interaction Spaces,
J. Olsen, B. O. Roos, P. Jorgensen, and H. J. Aa. Jensen,
J. Chem. Phys. 89, 2185 (1988).
.LP
Restricted Active Space SCF:
.IP "1."
P.-A. Malmqvist, A. Rendell, and B. O. Roos, J. Phys. Chem.
94, 5477 (1990).
.LP
DETCI Program:
.IP "1."
C. D. Sherrill, 
Computational Algorithms for Large-Scale Full and
Multi-Reference Configuration Interaction Wavefunctions,
PhD thesis, University of Georgia, Athens, GA, 1996.
.IP "2."
C. D. Sherrill and H. F. Schaefer,
The Configuration Interaction Method: Advances in Highly
Correlated Approaches, Adv. Quantum Chem., in press.

.SH FILES REQUIRED
.nf
    input.dat          \- Input file
    file78             \- MO one-electron integrals (fzc operator)
    file72             \- MO two-electron integrals
    file73             \- MO one-particle density matrix
    file74             \- MO two-particle density matrix
    file75             \- MO Lagrangian
.fi

.SH FILES UPDATED
.nf
    output.dat         \- Output file
    file14.dat         \- Record of energies and orbital gradients
.fi

.SH INPUT FORMAT
.LP
The following command-line arguments are available:
.IP "\fI-quiet\fP"
This gives the same result as \fBPRINT=0\fP.

.IP "\fI-o fname\fP"
Gives the filename for the output file.  Defaults to output.dat.

Additional input for this program is read from the file input.dat.
The following keywords are valid:

.IP "\fBCONVERGENCE =\fP \fIinteger\fP"
Convergence desired on the orbital gradient.  Convergence is achieved when the
RMS of the error in the orbital gradient is less than 10**(-n).  The default 
is 4 for energy calculations and 7 for gradients.  

.IP "\fBDIIS_FREQ =\fP \fIinteger\fP"
The DIIS extrapolation procedure will be attempted every \fIn\fP
iterations.  The default is 1.

.IP "\fBDIIS_MAX_VECS =\fP \fIinteger\fP"
The maximum number of subspace vectors for the DIIS procedure.  After this 
number of vectors are reached, older vectors will be dropped from the
subspace as necessary.  The default is 8.

.IP "\fBDIIS_MIN_VECS =\fP \fIinteger\fP"
The minimum number of subspace vectors before a DIIS interpolation can
be performed.  The default is 2.  It doesn't make sense to have values
less than 2.

.IP "\fBDIIS_START =\fP \fIinteger\fP"
The iteration number when Pulay's Direct Inversion of the Iterative
Subspace (DIIS) procedure for acceleration of convergence should be
turned on.  The default is 3.  Prior to this iteration, vectors are 
not added to the DIIS subspace.  The first DIIS step will not be taken until 
\fBDIIS_MIN_VECS\fP vectors are in the DIIS subspace. 

.IP "\fBDOCC =\fP \fIinteger_array\fP"
This vector gives the number of doubly occupied orbitals in each irrep.
There is no default.

.IP "\fBSOCC =\fP \fIinteger_array\fP"
This vector gives the number of singly occupied orbitals in each irrep.
There is no default.

.IP "\fBENERGY_CONVERGENCE =\fP \fIinteger\fP"
Convergence desired on the total MCSCF energy.  The default is 7.

.IP "\fBFCI =\fP \fIboolean\fP"
If this flag is set to \fBTRUE\fP, then rotations of orbitals within
the active space are not considered.  Currently, the program will
not work unless this is \fBTRUE\fP.  The default is \fBTRUE\fP.

.IP "\fBFROZEN_DOCC =\fP \fIinteger_array\fP"
The number of lowest energy doubly occupied orbitals in each irreducible
representation from which there will be no excitations.
The Cotton ordering of the irredicible representations is used.
The default is the zero vector.  These orbitals are not really
\fBfrozen\fP in an MCSCF procedure...they are optimized.

.IP "\fBFROZEN_UOCC =\fP \fIinteger_vector\fP"
The number of highest energy unoccupied orbitals in each irreducible
representation into which there will be no excitations.
The default is the zero vector.  These orbitals are not really
\fBfrozen\fP in an MCSCF procedure...they are optimized.

.IP "\fBFREEZE_CORE = \fP \fIboolean\fP"
This option determines whether the frozen core orbitals are to be
frozen in their SCF form (\fBTRUE\fP) or optimized by the MCSCF 
(\fBFALSE\fP).  Currently, only \fBFALSE\fP is supported.  The
default is \fBFALSE\fP.

.IP "\fBLAG_FILE =\fP \fIinteger\fP"
File (unit number) for reading the lagrangian matrix.
The default value is currently 75.

.IP "\fBNCASITER =\fP \fIinteger\fP"
Maximum number of iterations to optimize the orbitals.  This option
\fBshould be specified in the DEFAULT section of input\fP, because
it needs to be visible to the control program PSI.  Defaults to 1.

.IP "\fBOPDM_FILE =\fP \fIinteger\fP"
File (unit number) for reading the one-particle density matrix.
The default value is currently 73.

.IP "\fBPRINT =\fP \fIinteger\fP"
This option determines the verbosity of the output.  A value of 1 or
2 specifies minimal printing, a value of 3 specifies verbose printing.
Values of 4 or 5 are used for debugging.  Do not use level 5 unless
the test case is very small (e.g. STO H2O CISD).

.IP "\fBSCALE_GRAD =\fP \fIboolean\fP"
Tells whether to scale the orbital gradient by the approximate 
(diagonal) orbital Hessian.  The default is TRUE.

.IP "\fBSCALE_STEP =\fP \fIreal\fP"
Scale factor for the orbital rotation step.  Default is 1.0.

.IP "\fBTPDM_FILE =\fP \fIinteger\fP"
File (unit number) for reading the two-particle density matrix.
The default value is currently 74.


