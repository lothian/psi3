
srcdir = @srcdir@
VPATH = @srcdir@

include ../MakeVars

CFLAGS += -DDPD_TIMER
#CFLAGS += -DDPD_DEBUG

TARGET = $(top_objdir)/lib/libdpd.a

TRUESRC = \
4mat_irrep_print.c           buf4_symm2.c      file2_trace.c                \
buf4_axpy.c                  close.c           file4_cache.c                \
buf4_close.c                 contract222.c     file4_close.c                \
buf4_copy.c                  contract244.c     file4_init.c                 \
buf4_dirprd.c                contract422.c     file4_init_nocache.c         \
buf4_dot.c                   contract424.c     file4_mat_irrep_close.c      \
buf4_dump.c                  contract442.c     file4_mat_irrep_init.c       \
buf4_init.c                  contract444.c     file4_mat_irrep_rd.c         \
buf4_mat_irrep_close.c       dot13.c           file4_mat_irrep_rd_block.c   \
buf4_mat_irrep_close_block.c dot14.c           file4_mat_irrep_row_close.c  \
buf4_mat_irrep_init.c        dot23.c           file4_mat_irrep_row_init.c   \
buf4_mat_irrep_init_block.c  dot24.c           file4_mat_irrep_row_rd.c     \
buf4_mat_irrep_rd.c          error.c           file4_mat_irrep_row_wrt.c    \
buf4_mat_irrep_rd_block.c    file2_axpy.c      file4_mat_irrep_row_zero.c   \
buf4_mat_irrep_row_close.c   file2_cache.c     file4_mat_irrep_wrt.c        \
buf4_mat_irrep_row_init.c    file2_close.c     file4_mat_irrep_wrt_block.c  \
buf4_mat_irrep_row_rd.c      file2_copy.c      file4_print.c                \
buf4_mat_irrep_row_wrt.c     file2_dirprd.c    init.c                       \
buf4_mat_irrep_row_zero.c    file2_dot.c       trans4_close.c               \
buf4_mat_irrep_shift13.c     file2_init.c      trans4_init.c                \
buf4_mat_irrep_shift31.c     file2_mat_close.c trans4_mat_irrep_close.c     \
buf4_mat_irrep_wrt.c         file2_mat_init.c  trans4_mat_irrep_init.c      \
buf4_mat_irrep_wrt_block.c   file2_mat_print.c trans4_mat_irrep_rd.c        \
buf4_norm.c                  file2_mat_rd.c    trans4_mat_irrep_shift13.c   \
buf4_print.c                 file2_mat_wrt.c   trans4_mat_irrep_shift31.c   \
buf4_scm.c                   file2_norm.c      trans4_mat_irrep_wrt.c       \
buf4_sort.c                  file2_print.c     set_default.c                \
buf4_symm.c                  buf4_scmcopy.c    file2_scm.c                  \
buf4_sort_ooc.c              block_matrix.c    memfree.c                    \

DEPENDINCLUDE = dpd.h dpd.gbl

LIBOBJ = $(TRUESRC:%.c=%.o)

include ../MakeRules

ifneq ($(DODEPEND),no)
include $(LIBOBJ:%.o=%.d)
endif

install_inc:: dpd.h
	$(MKDIRS) $(incdir)
	$(INSTALL_INCLUDE) $^ $(incdir)

install_man:: libdpd.html
	$(MKDIRS) $(htmldir)
	$(INSTALL_INCLUDE) $^ $(htmldir)

